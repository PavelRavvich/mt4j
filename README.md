# Bridge
The local server based on Tomcat is the bridge between Java and Meta Trader 5 via HTTP requests.

Port `80`. Port can't be changed by specific Meta Trader 5 reason, see more in MQL5 documentation: [https://www.mql5.com/en/docs/network/webrequest][webrequest].

MetaTrader 5 required permission in settings for send http requests to localhost, see more in MQL5 documentation: [https://www.mql5.com/en/docs/network][settings]

Endpoints:

**GET** `http://127.0. 0.1/api/advisor/connect` - caching advisor properties (Advisor bootstrap sync with a local server)

_Request:_
```json
{
    "properties": [
        { "key": "propName1", "value": "str", "type": "STRING" },
        { "key": "propName2", "value": 10, "type": "NUMBER" }
    ] 
}
```

_Response:_
```json
{
    "id": "c4eb34e4-c9c3-4b7e-856d-d5d00588464d"
}
```


**GET** `http://127.0. 0.1/api/signal` - resolve indicator's time series and return signal generated by plugged strategy.

_Request:_
```json
{
    "advisorId": "c4eb34e4-c9c3-4b7e-856d-d5d00588464d",
    "strategyType": "SIMPLE",
    "indicators": [
        {
            "id": "42897b00-4d16-469f-81d0-def62b34606b",
            "type": "STOCHASTIC",
            "timeframe": "M_1",
            "buffer": [
                { "value": 37.38, "date": 1603488613812 },
                { "value": 39.23, "date": 1603488639826 },
                { "value": 42.07, "date": 1603488656337 }
            ]
        }
    ]
}
```

_Response:_
```json
{
    "type": "OPEN",
    "lot": 0.01,
    "stopLoss": 100,
    "takeProfit": 100
}
```


**Contribution**

    1. For bug reports welcome to GitHub Issue.
    2. Pull Request should be supported GitHub Issue.
    


[webrequest]: https://www.mql5.com/en/docs/network/webrequest
[settings]:https://www.mql5.com/en/docs/network